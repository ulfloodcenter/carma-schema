{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://floodcenter.louisiana.edu/CARMA.schema.20200709.json",
  "title": "CARMA schema",
  "description": "Data schema for Coastal Aquifer Research and Management Analytics (CARMA) Platform",
  "type": "object",
  "required": ["HUC12Watersheds"],
  "properties": {
  	"HUC12Watersheds": {
  		"type": "array",
  		"items": { "$ref": "#/definitions/HUC12Watershed" },
  		"minItems": 1,
      	"uniqueItems": true
  	},
  	"GroundWaterAvailabilityDatasets": {
  		"type": "array",
  		"items": { "$ref": "#/definitions/GroundWaterAvailabilityDataset" },
  		"minItems": 1,
  		"uniqueItems": true
  	},
  	"SurfaceWaterAvailabilityDatasets": {
		"type": "array",
		"items": { "$ref": "#/definitions/SurfaceWaterAvailabilityDataset" },
		"minItems": 1,
		"uniqueItems": true
  	},
  	"WaterUseDatasets": {
  		"type": "array",
		"items": { "$ref": "#/definitions/WaterUseDataset" },
		"minItems": 1,
		"uniqueItems": true
  	}
  },
  "definitions": {
  	"HUC12Watershed": {
  		"type": "object",
  		"required": ["id", "description", "geometry", "area", "cropArea", "developedArea", "maxStreamOrder", "environmentalFlow"],
  		"properties": {
  			"id": {
  				"type": "string",
  				"description": "The ID of the HUC-12, e.g.: 111402010000"
  			},
  			"description": {
  				"type": "string",
  				"description": "A description for the HUC-12 watershed"
  			},
  			"geometry": {
  				"$ref": "https://geojson.org/schema/Feature.json"
  			},
  			"area": {
  				"type": "number",
  				"description": "The total area of the HUC-12 watershed (unit: ha)"
  			},
  			"cropArea": {
  				"type": "number",
  				"description": "The crop area of the HUC-12 watershed (unit: ha)"
  			},
  			"developedArea": {
  				"type": "number",
  				"description": "The developer area of the HUC-12 watershed (unit: ha)"
  			},
  			"maxStreamOrder": {
  				"type": "number",
  				"description": "The maximum Strahler order of streams in the HUC-12 (unitless)"
  			},
  			"environmentalFlow": {
  				"type": "number",
  				"description": "Streamflow required for maintaining habitat suitability (unit: mm)"
  			}
  		}
  	},
  	"GroundWaterAvailabilityDataset": {
  		"type": "object",
  		"required": ["huc12", "description", "sourceData", "year", "value", "unit"],
  		"properties": {
  			"huc12": {
  				"type": "string",
  				"description": "The ID of the HUC-12 watershed that this dataset is associated with"
  			},
  			"description": {
  				"type": "string",
  				"description": "A description of the ground water dataset"
  			},
  			"sourceData": {
  				"type": "string",
  				"description": "A URI referring to the original source of the dataset"
  			},
  			"year": {
  				"type": "number",
  				"description": "The year that the value of the dataset represents"
  			},
  			"value": {
  				"type": "number",
  				"description": "The datum that the dataset represents"
  			},
  			"unit": {
  				"$ref": "#/definitions/Unit"
  			}
  		}
  	},
  	"SurfaceWaterAvailabilityDataset": {
  		"type": "object",
  		"required": ["huc12", "description", "sourceData", "year", "value", "unit"],
  		"properties": {
  			"huc12": {
  				"type": "string",
  				"description": "The ID of the HUC-12 watershed that this dataset is associated with"
  			},
  			"description": {
  				"type": "string",
  				"description": "A description of the ground water dataset"
  			},
  			"sourceData": {
  				"type": "string",
  				"description": "A URI referring to the original source of the dataset"
  			},
  			"year": {
  				"type": "number",
  				"description": "The year that the value of the dataset represents"
  			},
  			"value": {
  				"type": "number",
  				"description": "The datum that the dataset represents"
  			},
  			"unit": {
				"$ref": "#/definitions/Unit"
			}
  		}
  	},
  	"WaterUseDataset": {
  		"type": "object",
  		"required": ["huc12", "useType", "sector", "description", "sourceData", "year", "value", "unit"],
  		"properties": {
  			"huc12": {
  				"type": "string",
  				"description": "The ID of the HUC-12 watershed that this dataset is associated with"
  			},
  			"useType": {
				"$ref": "#/definitions/UseType"	  
			},
  			"sector": {
				"$ref": "#/definitions/Sector"	  
			},
			"description": {
				"type": "string",
				"description": "A description of the water use dataset"
			},
  			"sourceData": {
  				"type": "string",
  				"description": "A URI referring to the original source of the dataset"
  			},
  			"year": {
  				"type": "number",
  				"description": "The year that the value of the dataset represents"
  			},
  			"value": {
  				"type": "number",
  				"description": "The datum that the dataset represents"
  			},
  			"unit": {
				"$ref": "#/definitions/Unit"
			}
  		}
  	},
  	"Unit": {
  		"type": "object",
  		"required": ["name"],
  		"properties": {
  			"name": {
  				"type": "string",
  				"description": "The abbreviation of the unit."
  			},
  			"description": {
  				"type": "string",
  				"description": "A more detailed description of the unit."
  			},
  			"primaryDimension": {
				"$ref": "#/definitions/Dimension"
  			},
  			"secondaryDimension": {
				"$ref": "#/definitions/Dimension"
  			},
  			"tertiaryDimension": {
				"$ref": "#/definitions/Dimension"
  			}
  		}
  	},
  	"Dimension": {
  		"type": "object",
  		"required": ["name"],
  		"properties": {
  			"name": {
  				"type": "string",
  				"enum": ["Millimeter", "Meter", "Cubic meter", "Hectare", "Liter", "Million liter", "Kilogram", "Kelvin", "Second", "Minute", "Hour", "Day", "Year"]
  			}
  		}
  	},
  	"UseType": {
  		"type": "object",
  		"required": ["name"],
  		"properties": {
  			"name": {
  				"type": "string",
  				"enum": ["Surface Water", "Ground Water"]
  			}
  		}
  	},
  	"Sector": {
  		"type": "object",
  		"required": ["name"],
  		"properties": {
  			"name": {
  				"type": "string",
  				"enum": ["Public Supply", "Domestic", "Commercial", "Industrial", "Total Thermoelectric Power", "Fossil-fuel Thermoelectric Power", "Geothermal Thermoelectric Power", "Nuclear Thermoelectric Power", "Thermoelectric Power (Once-through cooling)", "Thermoelectric Power (Closed-loop cooling)", "Mining", "Livestock", "Livestock (Stock)", "Livestock (Animal Specialities)", "Aquaculture", "Irrigation, Total", "Irrigation, Crop", "Irrigation, Golf Courses", "Hydroelectric Power", "Wastewater Treatment"]
  			}
  		}
  	}
  }
}
